(function(){"use strict";var e={6685:function(e,t,a){var s=a(9242),n=a(3396);const i={class:""};function o(e,t,a,s,o,r){const l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("section",i,[(0,n.Wm)(l)])}var r={name:"App",components:{},methods:{initialiseTxsData(e){this.txs=e,this.uncategorisedTxs=e,this.filteredTxs=e}},data(){return{txs:[],uncategorisedTxs:[],filteredTxs:[]}}},l=a(89);const c=(0,l.Z)(r,[["render",o]]);var d=c,u=(a(8937),a(678)),g=a.p+"img/landing_main.b46a205a.png",m=a.p+"img/girl_chart.a6dbada9.png",p=a.p+"img/group_analyze.247c7594.png",b=a.p+"img/where_your_money_goes.23db7c2a.png";const h=e=>((0,n.dD)("data-v-2c770bb7"),e=e(),(0,n.Cn)(),e),y={class:"img-container"},v=h((()=>(0,n._)("p",{class:"main-title"},"Spend Consciously",-1))),f=h((()=>(0,n._)("img",{src:g,alt:"main-image",style:{"max-width":"100%"}},null,-1))),x=h((()=>(0,n._)("button",{class:"btn"},"Get Started",-1))),_=(0,n.uE)('<section class="mx-3" data-v-2c770bb7><div class="container mb-5" data-v-2c770bb7><div class="row" data-v-2c770bb7><div class="col-sm" data-v-2c770bb7><img class="img-fluid" alt="girl and chart" src="'+m+'" data-v-2c770bb7></div><div class="col-sm p-5" data-v-2c770bb7><h3 class="mb-5" data-v-2c770bb7>Make a plan in three steps</h3><ul data-v-2c770bb7><li data-v-2c770bb7><p data-v-2c770bb7>Take a snapshot of your finances</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Understand your habits</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Automate your conscious spending plan</p></li></ul></div></div></div><div class="mb-5" data-v-2c770bb7><p data-v-2c770bb7><br data-v-2c770bb7></p></div><div class="mx-auto mb-5 col-8" data-v-2c770bb7><h2 class="text-center" data-v-2c770bb7>How to use this app</h2></div><div class="col-4 mx-auto mb-5" data-v-2c770bb7><p data-v-2c770bb7>Get your CSV file:</p><ul data-v-2c770bb7><li data-v-2c770bb7><p data-v-2c770bb7>Head over to your online banking site</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Select your checking account</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Export your transactions as a CSV file</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Delete everything above the header line</p></li><li data-v-2c770bb7><p data-v-2c770bb7>Upload your file when prompted</p></li></ul></div><div class="mb-5" data-v-2c770bb7><p data-v-2c770bb7><br data-v-2c770bb7></p></div></section><section data-v-2c770bb7><div class="mx-auto mb-5 col-6" data-v-2c770bb7><img src="'+p+'" style="max-width:100%;" alt="group analysis" data-v-2c770bb7></div><div class="mx-auto col-6 mb-5" data-v-2c770bb7><h2 data-v-2c770bb7>Use insights to analyze your habits</h2><p data-v-2c770bb7> Analyze your spending to understand where your money is currently going </p><p data-v-2c770bb7>Use this information as a way to plan your future spending</p></div></section><div class="mb-5" data-v-2c770bb7><p data-v-2c770bb7><br data-v-2c770bb7></p></div><section data-v-2c770bb7><h2 class="text-center" data-v-2c770bb7>This is where you money should go</h2><div class="mx-auto col-6" data-v-2c770bb7><img src="'+b+'" style="max-width:100%;" alt="" data-v-2c770bb7></div></section>',4);function T(e,t){const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",y,[v,f,(0,n.Wm)(a,{to:{name:"categorisePage"}},{default:(0,n.w5)((()=>[x])),_:1})]),_],64)}const w={},k=(0,l.Z)(w,[["render",T],["__scopeId","data-v-2c770bb7"]]);var I=k;const D={class:"container"},C=(0,n._)("div",{class:"mb-5"},[(0,n._)("p",null,[(0,n._)("br")])],-1),O=(0,n.Uk)("Home Page "),S=(0,n.Uk)(" > "),A=(0,n.Uk)("Categorise Transactions "),P=(0,n.Uk)(" > Insights "),E=(0,n._)("div",{class:"mb-5"},[(0,n._)("p",null,[(0,n._)("br")])],-1),z=(0,n._)("h2",null,"Insights",-1),U=(0,n._)("button",{class:"btn btn-primary"},"Build a Budget",-1),N=(0,n._)("div",{class:"mb-5"},[(0,n._)("div",{id:"graph"}),(0,n._)("div",{id:"categoriesByMonth"})],-1);function B(e,t,a,s,i,o){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",D,[(0,n._)("section",null,[C,(0,n._)("div",null,[(0,n.Wm)(r,{to:{name:"Home"}},{default:(0,n.w5)((()=>[O])),_:1}),S,(0,n.Wm)(r,{to:{name:"categorisePage"}},{default:(0,n.w5)((()=>[A])),_:1}),P]),E,z,(0,n._)("button",{onClick:t[0]||(t[0]=e=>o.getInsights()),type:"button",class:"btn btn-primary mt-2 mb-2",style:{display:"inline"}}," Display Insights! "),(0,n.Wm)(r,{to:{params:{categorisedTxs:JSON.stringify(this.categorisedTxs)},name:"Budget"}},{default:(0,n.w5)((()=>[U])),_:1},8,["to"]),N])])}var q=a(6294),F=a.n(q),H={name:"InsightsData",props:{categorisedTxs:{type:Object,required:!0}},data(){return{}},methods:{totalMonthlyData(){let e={};for(const n in this.categorisedTxs)this.categorisedTxs[n].forEach((t=>{let a=t.Date.replace("/","-").replace("/","");a=a.slice(0,7),a in e||(e[a]=0);let s=t["Amount\r"].replace("-","").replace("\r","");s=parseFloat(s),e[a]+=s}));var t={x:Object.keys(e),y:Object.values(e),name:"Expenses",marker:{color:"rgb(26, 118, 255)"},type:"bar"},a=[t],s={title:"Total Expenses by Month",xaxis:{tickfont:{size:14,color:"rgb(107, 107, 107)"},type:"category"},yaxis:{title:"NZD ($)",titlefont:{size:16,color:"rgb(107, 107, 107)"},tickfont:{size:14,color:"rgb(107, 107, 107)"}},legend:{x:0,y:1,bgcolor:"black",bordercolor:"black"},bargap:.15,paper_bgcolor:"rgb(0, 0, 0)",plot_bgcolor:"rgb(0, 0, 0)"};F().newPlot("graph",a,s)},monthlyDataByCategory(){let e={};for(const s in this.categorisedTxs)e[s]??={},this.categorisedTxs[s].forEach((t=>{let a=t.Date.replace("/","-").replace("/","");a=a.slice(0,7),a in e[s]||(e[s][a]=0);let n=t["Amount\r"].replace("-","").replace("\r","");n=parseFloat(n),e[s][a]+=n}));let t=[];for(const s in e){let a={name:s,type:"bar",x:[],y:[]};for(const[t,n]of Object.entries(e[s]))a.x.push(t),a.y.push(n);t.push(a)}var a={title:"Monthly Expenses by Category",paper_bgcolor:"rgb(0, 0, 0)",plot_bgcolor:"rgb(0, 0, 0)",xaxis:{tickfont:{size:14,color:"rgb(107, 107, 107)"},type:"category"},yaxis:{title:"NZD ($)",titlefont:{size:16,color:"rgb(107, 107, 107)"},tickfont:{size:14,color:"rgb(107, 107, 107)"}},legend:{x:0,y:1,bgcolor:"black",bordercolor:"black"},bargap:.15,barmode:"group"};F().newPlot("categoriesByMonth",t,a)},getInsights(){this.totalMonthlyData(),this.monthlyDataByCategory()}}};const j=(0,l.Z)(H,[["render",B]]);var M=j,Q=a(7139);const J={class:"container"},R=(0,n._)("div",{class:"mb-5"},[(0,n._)("p",null,[(0,n._)("br")])],-1),W=(0,n.Uk)("Home Page "),V=(0,n.Uk)(" > Categorise "),Y=(0,n._)("div",{class:"mb-2"},[(0,n._)("p",null,[(0,n._)("br")])],-1),Z=(0,n._)("div",{class:"mb-5"},[(0,n._)("h1",null,"Categorise"),(0,n._)("p",null," On this page, you'll t ake a snapshot of your current finances. This will help you understand where your money has been going. Don't worry about making it perfect! "),(0,n._)("p",null," Here's a brief description for some of categories which can be interpreted in several ways: "),(0,n._)("h4",null,"Fixed Expenses"),(0,n._)("p",null," Recurring expenses you cannot stop paying for, even if you wanted to. Eg. Rent, utilities, debt repayments etc. "),(0,n._)("h4",null,"Household"),(0,n._)("p",null," Groceries, furniture, plants etc. Basically any physical item you bring into your house. "),(0,n._)("h4",null,"Lifestyle"),(0,n._)("p",null,"Clothing, gym, social clubs, etc.")],-1),K={class:"d-flex justify-content-between mb-4"},$=["onClick"],L={class:"row"},G={class:"col-4"},X={class:"mb-5"},ee=(0,n._)("button",{class:"btn btn-primary"},"View Insights",-1),te={class:"col"};function ae(e,t,a,s,i,o){const r=(0,n.up)("router-link"),l=(0,n.up)("FileParser"),c=(0,n.up)("TxFilter"),d=(0,n.up)("CategoryView"),u=(0,n.up)("TransactionRows");return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("div",J,[R,(0,n._)("div",null,[(0,n.Wm)(r,{to:{name:"Home"}},{default:(0,n.w5)((()=>[W])),_:1}),V]),Y,(0,n._)("section",null,[Z,(0,n._)("div",null,[(0,n.Wm)(l,{onFileParsedEvent:o.initialiseTxsData},null,8,["onFileParsedEvent"])])]),(0,n.Wm)(c,{search:o.search,onSearchEvent:o.updateQuery},null,8,["search","onSearchEvent"]),(0,n._)("div",K,[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.categories,((e,t)=>((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",key:t,onClick:e=>{o.updateCategorisedTxs(t),o.saveQuery(t)}},(0,Q.zw)(e),9,$)))),128))]),(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>o.ignoreTx&&o.ignoreTx(...e))}," Ignore Transaction ")]),(0,n._)("div",L,[(0,n._)("div",G,[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.categories,((e,t)=>((0,n.wg)(),(0,n.j4)(d,{key:t,tx:this.categorisedTxs[t],"category-name":e,category:t,query:this.categorisedQuery,onQueryAddedEvent:o.resetCategorisedQuery,onUndoCategoriseEvent:o.reinjectTxs},null,8,["tx","category-name","category","query","onQueryAddedEvent","onUndoCategoriseEvent"])))),128))]),(0,n._)("div",X,[(0,n.Wm)(r,{to:{params:{categorisedTxs:JSON.stringify(this.categorisedTxs)},name:"Insights"}},{default:(0,n.w5)((()=>[ee])),_:1},8,["to"])]),(0,n._)("div",null,[(0,n._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>o.resetData&&o.resetData(...e))}," Reset All Data ")])]),(0,n._)("div",te,[(0,n.Wm)(u,{txs:this.filteredTxs},null,8,["txs"])])])])])}a(6699);const se=e=>((0,n.dD)("data-v-59951c11"),e=e(),(0,n.Cn)(),e),ne=se((()=>(0,n._)("h3",null,"Transaction Rows",-1))),ie={class:"table table-striped text-muted"},oe=se((()=>(0,n._)("thead",{class:"thead-dark"},[(0,n._)("tr",null,[(0,n._)("th",null,"Date"),(0,n._)("th",null,"Payee"),(0,n._)("th",null,"Details"),(0,n._)("th",null,"Amount")])],-1)));function re(e,t,a,s,i,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[ne,(0,n._)("div",null,[(0,n._)("table",ie,[oe,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.txs,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e["Unique Id"]},[(0,n._)("td",null,(0,Q.zw)(e.Date),1),(0,n._)("td",null,(0,Q.zw)(e.Payee),1),(0,n._)("td",null,(0,Q.zw)(e.Memo),1),(0,n._)("td",null,(0,Q.zw)(e["Amount\r"]),1)])))),128))])])])],64)}var le={name:"TransactionRows",props:{txs:Array},components:{}};const ce=(0,l.Z)(le,[["render",re],["__scopeId","data-v-59951c11"]]);var de=ce;function ue(e,t,a,i,o,r){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)((0,n._)("input",{class:"input-group mb-3 bg-dark text-white rounded",id:"search","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchTerm=e),onKeyup:t[1]||(t[1]=(...e)=>r.searchAndEmit&&r.searchAndEmit(...e)),placeholder:"Enter your transaction: Eg. countdown"},null,544),[[s.nr,o.searchTerm]])])}var ge={name:"TxFilter",emits:["search-event"],props:["search"],data(){return{searchTerm:""}},methods:{searchAndEmit(){this.search(this.searchTerm),this.$emit("search-event",this.searchTerm)}}};const me=(0,l.Z)(ge,[["render",ue]]);var pe=me;const be=["onClick"];function he(e,t,a,s,i,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h4",null,(0,Q.zw)(a.categoryName),1),(0,n._)("p",null,"Total: "+(0,Q.zw)(o.total),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.queries,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.query,onClick:t=>o.undoCategorisation(e)},(0,Q.zw)(e.query),9,be)))),128))],64)}var ye={name:"CategoryView",emits:["query-added-event","tx-categorised-event","undo-categorise-event"],props:{categoryName:String,category:String,tx:Array,query:Object},methods:{addTx(e){if(void 0!==this.query[this.category]){let t=e.filter((e=>!(this.categorisedTxs.txs.indexOf(e)>-1)));this.categorisedTxs.txs.push(...t),this.$emit("tx-categorised-event",this.categorisedTxs);const a={query:this.query[this.category],txs:t};this.queries.indexOf(a)>-1?console.log("tx already in query"):(this.queries.push(a),this.$emit("query-added-event",this.query))}},undoCategorisation(e){const t=this.categorisedTxs.txs.filter((t=>!e.txs.includes(t)));this.categorisedTxs.txs=t;const a=this.queries.filter((t=>{const a=t.query;return!e.query.includes(a)}));this.queries=[...a],this.$emit("undo-categorise-event",e.txs,this.category)}},computed:{total(){if(this.tx.length>0){let e=0;return this.tx.forEach((t=>{const a=t["Amount\r"].replace("-","");e+=Number(a)})),e}return 0}},data(){return{amountTotal:0,queries:[],categorisedTxs:{category:this.category,txs:[]}}},watch:{tx:{handler(e,t){this.addTx(e)},deep:!0}}};const ve=(0,l.Z)(ye,[["render",he]]);var fe=ve;const xe=(0,n._)("h5",null,"Upload your csv here:",-1);function _e(e,t,a,s,i,o){return(0,n.wg)(),(0,n.iD)("div",null,[xe,(0,n._)("input",{class:"form-control mb-4 bg-dark text-white",type:"file",ref:"myFile",onChange:t[0]||(t[0]=(...e)=>o.selectedFile&&o.selectedFile(...e))},null,544)])}var Te={name:"FileParser",methods:{selectedFile(){let e=this.$refs.myFile.files[0];if(!e||"text/csv"!==e.type)return;let t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=e=>{this.text=e.target.result;const t=this.text,a=",",s=t.slice(0,t.indexOf("\n")).split(a),n=t.slice(t.indexOf("\n")+1).split("\n"),i=n.map((function(e){const t=e.split(a),n=s.reduce((function(e,a,s){return e[a]=t[s],e}),{});return n}));return this.$emit("file-parsed-event",i),i},t.onerror=e=>{console.error(e)}}}};const we=(0,l.Z)(Te,[["render",_e]]);var ke=we,Ie={components:{TransactionRows:de,TxFilter:pe,CategoryView:fe,FileParser:ke},methods:{initialiseTxsData(e){this.txs=e,this.uncategorisedTxs=e,this.filteredTxs=e},search(e){const t=this.uncategorisedTxs.filter((t=>t.Memo.toLowerCase().indexOf(e.toLowerCase())>-1));this.filteredTxs=t},ignoreTx(){this.ignoredTxs.push(...this.filteredTxs);const e=this.filterArray(this.uncategorisedTxs,this.filteredTxs);this.uncategorisedTxs=e,this.filteredTxs=this.uncategorisedTxs},filterArray(e,t){let a=e.filter((e=>!t.includes(e)));return a},updateQuery(e){this.filteredTxs.length>0&&(this.query=e)},saveQuery(e){this.filteredTxs.length>0&&(this.categorisedQuery[e]=this.query)},resetCategorisedQuery(){this.categorisedQuery={}},updateCategorisedTxs(e){if(!this.filteredTxs.length>0)return null;this.categorisedTxs[e].push(...this.filteredTxs);const t=(e,t)=>{let a=[...e];for(const s in t)a=a.filter((e=>!t[s].includes(e)));return a},a=t(this.uncategorisedTxs,this.categorisedTxs);this.uncategorisedTxs=a,this.filteredTxs=this.uncategorisedTxs},reinjectTxs(e,t){this.uncategorisedTxs.push(...e),this.filteredTxs=this.uncategorisedTxs,this.undoCategoriseTxs(e,t)},undoCategoriseTxs(e,t){this.categorisedTxs[t]=this.categorisedTxs[t].filter((t=>!e.includes(t)))},resetData(){localStorage.setItem("categorisedTxs",JSON.stringify({fixed:[],household:[],leisure:[],fooddrink:[],lifestyle:[],income:[]})),localStorage.setItem("filteredTxs",JSON.stringify([])),localStorage.setItem("uncategorisedTxs",JSON.stringify([])),localStorage.setItem("categorisedQuery",JSON.stringify({}))}},mounted(){this.categorisedTxs=JSON.parse(localStorage.getItem("categorisedTxs"))||this.categorisedTxs,this.filteredTxs=JSON.parse(localStorage.getItem("filteredTxs"))||[],this.uncategorisedTxs=JSON.parse(localStorage.getItem("uncategorisedTxs"))||[],this.categorisedQuery=JSON.parse(localStorage.getItem("categorisedQuery"))||{}},watch:{categorisedTxs:{handler(e,t){localStorage.setItem("categorisedTxs",JSON.stringify(e)),localStorage.setItem("filteredTxs",JSON.stringify(this.filteredTxs)),localStorage.setItem("uncategorisedTxs",JSON.stringify(this.uncategorisedTxs)),localStorage.setItem("categorisedQuery",JSON.stringify(this.categorisedQuery))},deep:!0}},data(){return{txs:[],uncategorisedTxs:[],filteredTxs:[],query:"",categorisedQuery:{},categories:{fixed:"Fixed Expenses",household:"Household",leisure:"Leisure",fooddrink:"Food & Drink",lifestyle:"Lifestyle",income:"Income"},categorisedTxs:{fixed:[],household:[],leisure:[],fooddrink:[],lifestyle:[],income:[]},ignoredTxs:[]}}};const De=(0,l.Z)(Ie,[["render",ae]]);var Ce=De;const Oe=e=>((0,n.dD)("data-v-074f74ee"),e=e(),(0,n.Cn)(),e),Se={class:"container"},Ae=Oe((()=>(0,n._)("div",{class:"mb-3"},[(0,n._)("p",null,[(0,n._)("br")])],-1))),Pe={class:"mb-5"},Ee=(0,n.Uk)("Home Page "),ze=(0,n.Uk)(" > "),Ue=(0,n.Uk)("Categorise Transactions "),Ne=(0,n.Uk)(" > "),Be=(0,n.Uk)(" Insights "),qe=(0,n.Uk)(" > Automated Finance Planner "),Fe=Oe((()=>(0,n._)("div",{class:"mb-5"},[(0,n._)("h1",null,"Automated Finance Planner"),(0,n._)("p",null,[(0,n._)("br"),(0,n.Uk)(" Using the insights from your previous spending patterns, you can create a conscious spending plan. ")])],-1))),He={class:"row"},je={class:"col-6"},Me=Oe((()=>(0,n._)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,n._)("li",{class:"nav-item",role:"presentation"},[(0,n._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Totals ")]),(0,n._)("li",{class:"nav-item",role:"presentation"},[(0,n._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," Expenses ")])],-1))),Qe={class:"tab-content",id:"myTabContent"},Je={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},Re=Oe((()=>(0,n._)("div",{class:"mb-5"},null,-1))),We={class:"input-group mb-4"},Ve={class:"input-group-text"},Ye=["onUpdate:modelValue"],Ze=["onUpdate:modelValue","onKeyup"],Ke=["onClick"],$e={class:"mb-2"},Le=["onClick"],Ge=Oe((()=>(0,n._)("div",{class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"}," ... ",-1))),Xe={class:"col"},et={class:"table text-muted"},tt=Oe((()=>(0,n._)("thead",{class:"thead-dark"},[(0,n._)("tr",null,[(0,n._)("th",null,"Category"),(0,n._)("th",null,"Total"),(0,n._)("th",null,"Percentage of Income")])],-1))),at=Oe((()=>(0,n._)("td",null,[(0,n._)("b",null,"Total Allocated")],-1))),st={style:{"border-bottom":"double black"}},nt=Oe((()=>(0,n._)("td",null,[(0,n._)("b",null,"Remaining Unallocated")],-1))),it={style:{"font-weight":"800"}},ot=Oe((()=>(0,n._)("div",null,[(0,n._)("div",{id:"futurePlan"})],-1)));function rt(e,t,a,i,o,r){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",Se,[(0,n._)("section",null,[Ae,(0,n._)("div",Pe,[(0,n.Wm)(l,{to:{name:"Home"}},{default:(0,n.w5)((()=>[Ee])),_:1}),ze,(0,n.Wm)(l,{to:{name:"categorisePage"}},{default:(0,n.w5)((()=>[Ue])),_:1}),Ne,(0,n.Wm)(l,{to:{name:"Insights"}},{default:(0,n.w5)((()=>[Be])),_:1}),qe])]),(0,n._)("section",null,[Fe,(0,n._)("div",He,[(0,n._)("div",je,[(0,n._)("div",null,[Me,(0,n._)("div",Qe,[(0,n._)("div",Je,[Re,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.BudgetData,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.label},[(0,n._)("h6",null,(0,Q.zw)(e.description),1),(0,n._)("div",We,[(0,n._)("span",Ve,(0,Q.zw)(e.label),1),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.tempItemName=t,type:"text",placeholder:"Enter a name","aria-label":"Name",class:"form-control bg-dark text-white"},null,8,Ye),[[s.nr,e.tempItemName,void 0,{lazy:!0}]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.tempItemAmount=t,type:"text","aria-label":"Amount",placeholder:"Eg. 1000",class:"form-control bg-dark text-white",onKeyup:(0,s.D2)((t=>r.addItem(e)),["enter"])},null,40,Ze),[[s.nr,e.tempItemAmount,void 0,{number:!0}]]),(0,n._)("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:t=>r.addItem(e)}," Add ",8,Ke)]),(0,n._)("div",$e,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.subItems,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.name},[(0,n._)("button",{class:"btn-primary",id:"subitem-btn",onClick:a=>r.undoAddItem(e,t)}," X ",8,Le),(0,n.Uk)(" "+(0,Q.zw)(t.name)+" "+(0,Q.zw)(t.amount),1)])))),128))])])])))),128))]),Ge])])]),(0,n._)("div",Xe,[(0,n._)("div",null,[(0,n._)("table",et,[tt,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.BudgetData,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.label},[(0,n._)("td",null,(0,Q.zw)(e.label),1),(0,n._)("td",null,(0,Q.zw)(e.total),1),(0,n._)("td",null,(0,Q.zw)(e.percentage),1)])))),128)),(0,n._)("tr",null,[at,(0,n._)("td",null,[(0,n._)("b",null,[(0,n._)("span",st,(0,Q.zw)(r.calculateTotalAllocated),1)])]),(0,n._)("td",null,(0,Q.zw)(r.calculatePercentageOfIncome),1)]),(0,n._)("tr",null,[nt,(0,n._)("td",null,[(0,n._)("b",null,[(0,n._)("span",it,(0,Q.zw)(r.calculateRemainingAllocated),1)])]),(0,n._)("td",null,(0,Q.zw)(r.calculatePercentageOfIncome),1)])])])])])]),ot])])}var lt={name:"BudgetView",props:{categoryName:String,category:String,tx:Array,query:Object},methods:{addItem(e){e.tempItemName&&e.tempItemAmount?(e.subItems.push({name:e.tempItemName,amount:e.tempItemAmount}),e.tempItemName="",e.tempItemAmount="",this.updateCategoryTotal(e),this.updatePercentageOfIncome(e),this.updateTreeMap()):alert("Please enter both a name and amount")},updateCategoryTotal(e){e.total=0,e.subItems.forEach((t=>{e.total+=t.amount}))},updatePercentageOfIncome(e){"Income"!=e.label&&(e.percentage=e.total/this.BudgetData.income.total*100)},updateTreeMap(){let e=[];for(let i in this.BudgetData)"income"!=i?e.push(this.BudgetData[i].percentage):e.push(100);let t=[];for(let i in this.BudgetData)t.push(this.BudgetData[i].label);let a=[];for(let i in this.BudgetData)"income"==i?a.push(""):a.push("Income");var s=[{type:"treemap",values:e,labels:t,parents:a,branchvalues:"total",textinfo:"label+value+percent parent+percent"}],n={title:"Proportion of Your Income Allocated to Each Category",font:{size:16},paper_bgcolor:"black"};F().newPlot("futurePlan",s,n)},undoAddItem(e,t){const a=[t];let s=e.subItems.filter((e=>!a.includes(e)));e.subItems=s,this.updateCategoryTotal(e),this.updatePercentageOfIncome(e),this.updateTreeMap()}},data(){return{BudgetData:{income:{label:"Income",subItems:[],total:0,tempItemName:"",tempItemAmount:""},fixedExpenses:{label:"Fixed Expenses",description:"Recommended < 40%",subItems:[],total:0,percentage:0},electiveExpenses:{label:"Elective Expenses",description:"Recommended ~ 20%",subItems:[],total:0,percentage:0},emergencyBuffer:{label:"Emergency Buffer",description:"Recommended ~ 10%",subItems:[],total:0,percentage:0},investments:{label:"Investments",description:"Recommended ~ 10-20%",subItems:[],total:0,percentage:0},guiltFreeMoney:{label:"Guilt Free Money",description:"Recommended ~ 10%",subItems:[],total:0,percentage:0}}}},computed:{calculateTotalAllocated(){let e=0;for(let t in this.BudgetData)"income"!=t&&(e+=this.BudgetData[t].total);return e},calculatePercentageOfIncome(){let e=0;for(let t in this.BudgetData)"income"!=t&&(e+=this.BudgetData[t].total/this.BudgetData.income.total*100);return e||0},calculateRemainingAllocated(){return this.BudgetData.income.total-this.calculateTotalAllocated}}};const ct=(0,l.Z)(lt,[["render",rt],["__scopeId","data-v-074f74ee"]]);var dt=ct;const ut=[{path:"/",name:"Home",component:I},{path:"/categorise",name:"categorisePage",component:Ce},{path:"/InsightsPage/:categorisedTxs",name:"Insights",props:e=>({categorisedTxs:JSON.parse(e.params.categorisedTxs)}),component:M},{path:"/BudgetPage/:categorisedTxs",name:"Budget",props:e=>({categorisedTxs:JSON.parse(e.params.categorisedTxs)}),component:dt}],gt=(0,u.p7)({history:(0,u.PO)("/"),routes:ut});var mt=gt;(0,s.ri)(d).use(mt).mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,i){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],i=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(r=!1,i<o&&(o=i));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,i,o=s[0],r=s[1],l=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var d=l(a)}for(t&&t(s);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunkgemino_vue"]=self["webpackChunkgemino_vue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6685)}));s=a.O(s)})();
//# sourceMappingURL=app.1bd2f134.js.map